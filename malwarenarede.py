import nmap

# pra inicializar o scanner
nm = nmap.PortScanner()

# definindo faixa de ip e a porta 
network_range = '172.16.1.0/24'
port = '1337'

# executando o escaneamento
nm.scan(network_range, port)

# itera pelos hosts escaneados
for host in nm.all_hosts():
    # verifica se a porta est√° aberta
    if nm[host].has_tcp(int(port)) and nm[host]['tcp'][int(port)]['state'] == 'open':
        print(f'Host infectado encontrado: {host}')
